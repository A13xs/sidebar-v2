L.Control.Sidebar=L.Control.extend({includes:L.Mixin.Events,initialize:function(i,t){var s,a;for(L.setOptions(this,t),this._sidebar=L.DomUtil.get(i),L.Browser.touch&&L.DomUtil.addClass(sidebar,"leaflet-touch"),s=this._sidebar.children.length-1;s>=0;s--)a=this._sidebar.children[s],"UL"==a.tagName&&L.DomUtil.hasClass(a,"sidebar-tabs")?this._tabs=a:"DIV"==a.tagName&&L.DomUtil.hasClass(a,"sidebar-content")&&(this._container=a);for(this._tabitems=[],s=this._tabs.children.length-1;s>=0;s--)a=this._tabs.children[s],"LI"==a.tagName&&(this._tabitems.push(a),a._sidebar=this);for(this._panes=[],s=this._container.children.length-1;s>=0;s--)a=this._container.children[s],"DIV"==a.tagName&&L.DomUtil.hasClass(a,"sidebar-pane")&&this._panes.push(a)},addTo:function(i){this._map=i;for(var t=this._tabitems.length-1;t>=0;t--){var s=this._tabitems[t];L.DomEvent.on(s.firstChild,"click",this._onClick,s)}return this},removeFrom:function(){this._map=null;for(var i=this._tabitems.length-1;i>=0;i--){var t=this._tabitems[i];L.DomEvent.off(t.firstChild,"click",this._onClick)}return this},close:function(){for(i=this._tabitems.length-1;i>=0;i--)child=this._tabitems[i],L.DomUtil.hasClass(child,"active")&&L.DomUtil.removeClass(child,"active");L.DomUtil.addClass(this._sidebar,"collapsed")},_onClick:function(){var i,t,s=this,a=s._sidebar;if(L.DomUtil.hasClass(s,"active"))a.close();else{for(i=a._panes.length-1;i>=0;i--)t=a._panes[i],"#"+t.id==s.firstChild.hash?L.DomUtil.addClass(t,"active"):L.DomUtil.hasClass(t,"active")&&L.DomUtil.removeClass(t,"active");for(i=a._tabitems.length-1;i>=0;i--)t=a._tabitems[i],t==s?L.DomUtil.addClass(t,"active"):L.DomUtil.hasClass(t,"active")&&L.DomUtil.removeClass(t,"active");L.DomUtil.hasClass(a._sidebar,"collapsed")&&L.DomUtil.removeClass(a._sidebar,"collapsed")}}}),L.control.sidebar=function(i,t){return new L.Control.Sidebar(i,t)};